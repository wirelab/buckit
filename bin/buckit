#!/usr/bin/env ruby
$:.unshift(File.dirname(__FILE__) + '/../lib') unless $:.include?(File.dirname(__FILE__) + '/../lib')
require "buckit/exceptions"
require "buckit/cli"

begin
  Buckit::CLI::run
rescue Buckit::FailureFeedback => exc
  $stderr.puts exc.message
  exit 1
rescue Buckit::WrongUsage => exc
  $stderr.puts "Error:\n  #{exc.msg}\n" if exc.msg
  exit exc.error_code
rescue Interrupt
  $stderr.puts "Interrupted"
  exit 1
end
